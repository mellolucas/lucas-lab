name: Explore Workflow Features
run-name: >-
  ${{ github.workflow }}
  ${{ contains(inputs.break, 'true') && ' ğŸ’¥' || ''}}
  ${{ contains(inputs.continue-on-error, 'true') && ' ğŸš§' || ''}}
  ${{ format('(string:{0}; boolean:{1}; runs-on:{2})', 
    inputs.string-input, 
    inputs.boolean-input, 
    inputs.runs-on
  ) }}

on:
  workflow_dispatch:
    inputs:
      runs-on:
        description: "runs-on argument"
        required: false
        type: string
        default: 'ubuntu-latest'
      string-input:
        description: "My string input"
        required: false
        type: string
      boolean-input:
        description: "My boolean input"
        required: false
        type: boolean
      break:
        description: "Break the workflow"
        required: false
        type: boolean
        default: false
      continue-on-error:
        description: "Continue on error"
        required: false
        type: boolean
        default: false

env:
  STRING_INPUT: ${{ inputs.string-input }}
  BOOLEAN_INPUT: ${{ inputs.boolean-input }}
  RUNS_ON: ${{ inputs.runs-on }}

jobs:
  explore:
    runs-on: >-
      ${{
        ( contains(inputs.runs-on, '"') || contains(inputs.runs-on, '''') ) &&
        fromJSON(inputs.runs-on) ||
        inputs.runs-on
      }}
    if: inputs.string-input != 'skipjob'
    outputs:
      steps-context: ${{ toJSON(steps) }}
      job-context: ${{ toJSON(job) || 'null' }}
      job-status: ${{ job.status || 'null' }}
      outcome: >-
        ${{ 
          contains(steps.*.outcome, 'failure') && 
            'failure' ||
            job.status || 
            'null' 
        }}

    steps:
      - name: Print context
        id: context
        env:
          GH_CONTEXT: ${{ toJSON(github) }}
          GH_INPUTS: ${{ toJSON(inputs) }}
          GH_RUNNER: ${{ toJSON(runner) }}
          GH_EVENT: ${{ toJSON(github.event) }}
        run: |
          echo "::group::Inputs with different access methods:"
          echo "inputs.string-input: ${{ inputs.string-input }}"
          echo "inputs['string-input']: ${{ inputs['string-input'] }}"
          echo "github.event.inputs.string-input: ${{ github.event.inputs.string-input }}"
          echo "toJSON(inputs.string-input): ${{ toJSON(inputs.string-input) }}"
          echo "toJSON(inputs['string-input']): ${{ toJSON(inputs['string-input']) }}"
          echo "toJSON(github.event.inputs.string-input): ${{ toJSON(github.event.inputs.string-input) }}"
          echo "env.STRING_INPUT: ${{ env.STRING_INPUT }}"
          echo "\${STRING_INPUT}: ${STRING_INPUT}"
          echo
          echo
          echo "---"
          echo
          echo "::group::Inputs toJSON (raw block deserialized):"
          jq . <<< "${GH_INPUTS}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::GitHub context toJSON:"
          jq . <<< "${GH_CONTEXT}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::GitHub event toJSON:"
          jq . <<< "${GH_EVENT}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::Runner context toJSON:"
          jq . <<< "${GH_RUNNER}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::Steps context:"
          echo "${{ toJSON(steps) }}"
          echo "::endgroup::"
          echo
          
      - name: Test GitHub expressions
        id: expressions
        run: |
          ansi()          { echo -e "\e[${1}m${*:2}\e[0m"; }
          bold()          { ansi 1 "$@"; }
          italic()        { ansi 3 "$@"; }
          underline()     { ansi 4 "$@"; }
          strikethrough() { ansi 9 "$@"; }
          red()           { ansi 31 "$@"; }
          reverse()       { ansi 7 "$@"; }
          echo "$(bold red 'Expression literal data types are:')"
          echo "- $(reverse boolean)"
          echo "- $(reverse null)"
          echo "- $(reverse number)"
          echo "- $(reverse string)"
          echo
          echo "In conditionals, $(italic falsy) values are coerced to $(reverse false)."
          echo "Falsy values are: '$(reverse false), $(reverse 0), $(reverse -0), $(reverse \"\"), $(reverse \'\'), and $(reverse null)'."
          echo "All $(italic non-falsy) values are coerced to $(reverse true)."
          echo
          echo "::group::Examples of literals:"
          echo "myNull ( \${{ null }} ): ${{ null }}"
          echo "myBoolean ( \${{ false }} ): ${{ false }}"
          echo "myIntegerNumber ( \${{ 711 }} ): ${{ 711 }}"
          echo "myFloatNumber ( \${{ -9.2 }} ): ${{ -9.2 }}"
          echo "myHexNumber ( \${{ 0xff }} ): ${{ 0xff }}"
          echo "myExponentialNumber ( \${{ -2.99e-2 }} ): ${{ -2.99e-2 }}"
          echo "myString ( Mona the Octocat ): Mona the Octocat"
          echo "myStringInBraces ( \${{ 'It''s open source!' }} ): ${{ 'It''s open source!' }}"
          echo "::endgroup::"
          echo
          echo "::group::Operators:"
          echo "- $(reverse \( \)): Logical grouping;"
          echo "- $(reverse [ ]): Index;"
          echo "- $(reverse .): Property de-reference;"
          echo "- $(reverse \!): Not;"
          echo "- $(reverse \<): Less than;"
          echo "- $(reverse \<=): Less than or equal;"
          echo "- $(reverse \>): Greater than;"
          echo "- $(reverse \>=): Greater than or equal;"
          echo "- $(reverse ==): Equal;"
          echo "- $(reverse !=): Not equal;"
          echo "- $(reverse \&\&): And;"
          echo "- $(reverse \|\|): Or;"
          echo "::endgroup::"
          echo
          echo "$(bold red 'Comparisons & Coercion:')"
          echo "- $(reverse string) comparisons are case insensitive;"
          echo "- fromJSON() can be used to convert strings to numbers (see $(bold red Functions));"
          echo "- GitHub performs loose equality comparisons, $(underline coercing types to $(reverse numbers)) $(underline when types do not match). Data types are casted to numbers using the conventions below:"
          echo "  - $(reverse null) is coerced to $(reverse 0);"
          echo "  - $(reverse boolean) $(reverse true) is coerced to $(reverse 1);"
          echo "  - $(reverse boolean) $(reverse false) is coerced to $(reverse 0);"
          echo "  - Non empty $(reverse string) is coerced to the corresponding $(reverse number) when parsed from any legal JSON number format, otherwise returns $(reverse NaN);"
          echo "  - Empty $(reverse string) returns $(reverse 0);"
          echo "  - $(reverse array) returns $(reverse NaN);"
          echo "  - $(reverse Object) returns $(reverse NaN);"
          echo "- When $(underline $(reverse \NaN)) is one of the operands of any relational comparison $(reverse \>), $(reverse \<), $(reverse \>=), $(reverse \<=)), $(underline the result is always $(reverse 'false'));"
          echo "- $(reverse Objects) and $(reverse arrays) are only considered $(italic equal when they are the $(underline same instance))."
          echo
          echo "::group::Loose equality comparisons ($(reverse null)):"
          echo "$(reverse null == null) should be $(reverse true): ${{ null == null && 'true' || 'false'}};"
          echo "$(reverse null == 0) should be $(reverse true): ${{ null == 0 && 'true' || 'false'}};"
          echo "$(reverse null == '0') should be $(reverse true): ${{ null == '0' && 'true' || 'false'}};"
          echo "$(reverse null == false) should be $(reverse true): ${{ null == false && 'true' || 'false'}} (as right-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse null == '') should be $(reverse true): ${{ null == '' && 'true' || 'false'}} (as right-side $(reverse \'\') is casted to $(reverse number));"
          echo
          echo "Given that $(reverse github.event.release.draft) doesnt exist for this event:"
          echo "$(reverse github.event.release.draft == null) should be $(reverse true): ${{ github.event.release.draft == null && 'true' || 'false'}};"
          echo "$(reverse github.event.release.draft == 0) should be $(reverse true): ${{ github.event.release.draft == 0 && 'true' || 'false'}}; (as lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse github.event.release.draft == '0') should be $(reverse true): ${{ github.event.release.draft == '0' && 'true' || 'false'}}; (as lefthand-side $(reverse boolean) is casted to $(reverse number) then $(reverse string));"
          echo "$(reverse github.event.release.draft == false) should be $(reverse true): ${{ github.event.release.draft == false && 'true' || 'false'}} (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse github.event.release.draft == '') should be $(reverse true): ${{ github.event.release.draft == '' && 'true' || 'false'}} (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "::endgroup::"
          echo "::group::Loose equality comparisons ($(reverse boolean true)):"
          echo "$(reverse true == 1) should be $(reverse true): ${{ true == 1 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse true == '1') should be $(reverse true): ${{ true == '1' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse true == 'true') should be $(reverse false): ${{ true == 'true' && 'true' || 'false'}} (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo
          echo "Given that $(reverse github.event.repository.has_issues) exist and is $(reverse true):"
          echo "$(reverse github.event.repository.has_issues == 1) should be $(reverse true): ${{ github.event.repository.has_issues == 1 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse github.event.repository.has_issues == '1') should be $(reverse true): ${{ github.event.repository.has_issues == '1' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse github.event.repository.has_issues == true) should be $(reverse true): ${{ github.event.repository.has_issues == true && 'true' || 'false'}};"
          echo "$(reverse github.event.repository.has_issues == 'true') should be $(reverse false): ${{ github.event.repository.has_issues == 'true' && 'true' || 'false'}} (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "::endgroup::"
          echo "::group::Loose equality comparisons ($(reverse boolean false)):"
          echo "$(reverse false == 0) should be $(reverse true): ${{ false == 0 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse false == '0') should be $(reverse true): ${{ false == '0' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse false == 'false') should be $(reverse false): ${{ false == 'false' && 'true' || 'false'}} (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse false == '') should be $(reverse true): ${{ false == '' && 'true' || 'false'}} (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo
          echo "Given that $(reverse github.event.repository.archived) exist and is $(reverse false):"
          echo "$(reverse github.event.repository.archived == 0) should be $(reverse true): ${{ github.event.repository.archived == 0 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse github.event.repository.archived == '0') should be $(reverse true): ${{ github.event.repository.archived == '0' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse github.event.repository.archived == false) should be $(reverse true): ${{ github.event.repository.archived == false && 'true' || 'false'}};"
          echo "$(reverse github.event.repository.archived == 'false') should be $(reverse false): ${{ github.event.repository.archived == 'false' && 'true' || 'false'}}  (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "::endgroup::"
          echo
          echo "$(bold red 'Functions & Coercion:')"
          echo "The functions below cast values to $(reverse string) when performing $(underline comparisons):"
          echo "  - $(reverse contains\(search, item\))"
          echo "  - $(reverse startsWith\(searchString, searchValue\))"
          echo "  - $(reverse endsWith\(searchString, searchValue\))"
          echo "  - $(reverse join\(array, optionalSeparator\))"
          echo "Coercion here happens as the following rules:"
          echo "  - $(reverse null) is coerced to $(reverse \'\');"
          echo "  - $(reverse boolean) $(reverse true) is coerced to $(reverse \'true\');"
          echo "  - $(reverse boolean) $(reverse false) is coerced to $(reverse \'false\');"
          echo "  - $(reverse number) is coerced to its decimal format, exponential for large numbers;"
          echo "  - $(reverse array) is $(bold NOT) coerced to $(reverse string);"
          echo "  - $(reverse object) is $(bold NOT) coerced to $(reverse string);"
          echo "The $(reverse fromJSON\(value\)) function can be used to provide a JSON object as an evaluated expression; and also to $(underline convert any data tupe that can be represented in JSON or JavaScript), such as $(reverse strings), $(reverse booeans), $(reverse numbers), $(reverse null) values, and $(reverse objects)."
          echo
          echo "::group::Functions data casting:"
          echo "$(reverse join\(null\)): ${{ join(null) }}"
          echo "$(reverse join\(null\) == \'\') should be $(reverse true): ${{ join(null) == '' && 'true' || 'false' }}"
          echo "$(reverse join\(true\)): ${{ join(true) }}"
          echo "$(reverse contains\(true, \'true\'\)) should be $(reverse true): ${{ contains(true, 'true') && 'true' || 'false' }}"
          echo "$(reverse contains\(true, 1)) should be $(reverse false): ${{ contains(true, 1) && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'true\') while righthand is coerced to $(reverse \'1\')"
          echo "$(reverse contains\(true, '1')) should be $(reverse false): ${{ contains(true, '1') && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'true\') while righthand is coerced to $(reverse \'1\')"
          echo "$(reverse join\(false\)): ${{ join(false) }}"
          echo "$(reverse contains\(false, \'false\'\)) should be $(reverse true): ${{ contains(false, 'false') && 'true' || 'false' }}"
          echo "$(reverse contains\(false, 0)) should be $(reverse false): ${{ contains(false, 0) && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'false\') while righthand is coerced to $(reverse \'0\')"
          echo "$(reverse contains\(false, '0')) should be $(reverse false): ${{ contains(false, '0') && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'false\') while righthand is coerced to $(reverse \'0\')"
          echo "$(reverse join\(9\)): ${{ join(9) }}"
          echo "$(reverse contains\(9, '9'\)) should be $(reverse true): ${{ contains(9, '9') && 'true' || 'false' }}"
          echo "$(reverse join\(1\)): ${{ join(1) }}"
          echo "$(reverse contains\(1, \'true\'\)) should be $(reverse false): ${{ contains(1, 'true') && 'true' || 'false' }}"
          echo "whereas $(reverse join\(1\) == true) should be $(reverse true): ${{ join(1) == true }}, as lefthand is converted to $(reverse \'1\' and then, when comparison operator is used, it is casted to its $(reverse number) at the same time the righthand $(reverse true) is coerced to $(reverse number 1))"
          echo "endgroup"
          echo "::group::Casting with $(reverse fromJSON\(\)):"
          echo "fromJSON(null): ${{ fromJSON('null') }};"
          echo "fromJSON(toJSON(null)): ${{ fromJSON(toJSON(null)) }};"
          echo "$(reverse fromJSON\(\'"string"\'\)): ${{ fromJSON('"string"') }}"
          echo "$(reverse fromJSON\(toJSON\(\'string\'\)\)): ${{ fromJSON(toJSON('string')) }}"
          echo "$(reverse fromJSON\(\'1\'\)): ${{ fromJSON('1') }}"
          echo "$(reverse fromJSON\(toJSON\(1\)\)): ${{ fromJSON(toJSON(1)) }} (toJSON casts to $(reverse string) and $(reverse 1) becomes $(reverse \'1\'), then, since the single quotes belongs to the yaml and whats inside to the evaluated JSON, the $(reverse fromJSON\(\)) parses that yaml $(reverse string) content as $(reverse number))"
          echo
          echo "$(reverse true == fromJSON\('true'\))) should be $(reverse true): ${{ true == fromJSON('true') && 'true' || 'false'}} (as $(reverse fromJSON\(\)) casts $(reverse \'true\') to $(reverse boolean);"
          echo "  same thing can be achieved by wrapping true yaml $(reverse boolean) in $(reverse toJSON\(\)) function: $(reverse true == fromJSON\(toJSON\(true\)\))) should be $(reverse true): ${{ true == fromJSON(toJSON(true)) && 'true' || 'false'}} ;"
          echo "$(reverse 1 == fromJSON\('true'\))) should be $(reverse true): ${{ 1 == fromJSON('true') && 'true' || 'false'}} (as $(reverse fromJSON\(\)) casts $(reverse \'true\') to $(reverse boolean), then to $(reverse number) when evaluating the comparison;"
          echo "  same thing can be achieved by wrapping true yaml $(reverse boolean) in $(reverse toJSON\(\)) function: $(reverse 1 == fromJSON\(toJSON\(true\)\))) should be $(reverse true): ${{ 1 == fromJSON(toJSON(true)) && 'true' || 'false'}} ;"
          echo "  whereas $(reverse 1 == \'true'\) should be $(reverse false): ${{ 1 == 'true' && 'true' || 'false'}} as comparison cant cast $(reverse string \'true\') to a $(reverse number), while lefthand $(reverse boolean) is coerced to $(reverse 1) upon casting"
          echo "Since functions casts to string, a $(reverse join) could be used to wrap everything so that comparison always evaluates strings:"
          echo "  $(reverse join\(true\) == join\(fromJSON\('true'\)))\) should be $(reverse true): ${{ join(true) == join(fromJSON('true')) && 'true' || 'false'}} as at the end all left is parsed as $(reverse string \'true\'), while right is parsed as $(reverse boolean), then $(reverse string), and only then goes to comparison operator that evaluates string vs string as lefthand $(reverse string \'true\') cant be coerced to decimal $(reverse number)"
          echo "  while $(reverse join\(true\) == fromJSON\('true'\))) should be $(reverse false): ${{ join(true) == fromJSON('true') && 'true' || 'false'}} as lefthand is casted to string, righthand is casted to $(reverse boolean), then comparison evaluates them as $(reverse string \'true\') vs $(reverse number 1);"
          echo "endgroup"
          echo "What we can get from all of this is that all possible $(reverse true booleans) ($(reverse 1), $(reverse \'1\'), $(reverse true), $(reverse \'true\')) can be safely compared to either $(reverse number 1) or $(reverse boolean true) if first casted to $(reverse string) with $(reverse join\(\)) then converted to $(reverse boolean) or $(reverse number) with $(reverse fromJSON\(\)), given that they will be normalized to $(reverse number 1) if the either operand is at the end a $(reverse number 1 or 0) and both wont be coerced to $(reverse number 1) if both are $(reverse boolean). Only trick here is that empty string is falsy and comparison coerces it to $(reverse 0)"

      - name: Data Types
        id: types
        run: |
          cat >> "${GITHUB_STEP_SUMMARY}" <<'EOM'
            ## Data Types 
            > GitHub Actions Workflows supported data structures and types

            | YAML Primitives (node kind) | Equivalent Types/Structures | GitHub Equivalent | 
            | :-------------------------- | :-------------------------- | :---------------: |
            | mappings                    | hashes/dictionaries         | objects           |
            | sequences                   | arrays/lists                | arrays            |
            | scalars                     | any atomic data types       | literals          |

            ### Objects/Mappings
            > How GitHub Actions Workflows handle objects (yaml mappings)
            Representing mappings (hashes/dictionaries) in GitHub Actions Workflows:
            - TODO: demonstrate how to define objects directly or from strings using workflow functions

            ### Arrays/Sequences
            > How GitHub Actions Workflows handle arrays (yaml sequences)
            Representing sequences (arrays/lists) in GitHub Actions Workflows:
            - TODO: demonstrate how to define arrays directly or from strings using workflow functions

            ### Literals/Scalar Types
            > How GitHub Actions Workflows handle string literals (yaml scalars)

            When writting workflows, as part of an expression, one can use the following data types:

            | Data Type  | Value Variation                   | Value Representation           | Evaluated Result                                                            |
            | :--------- | :-------------------------------- | :----------------------------: | :-------------------------------------------------------------------------: |
            | boolean    |                                   |                                |                                                                             |
            |            | true                              | `ï¼„{{ true }}`                 | `${{ true }}` (_${{ true && '**truthy**' || 'falsy' }}_)                    |
            |            | false                             | `ï¼„{{ false }}`                | `${{ false }}` (_${{ false && '**truthy**' || 'falsy' }}_)                  |
            | null       |                                   |                                |                                                                             |
            |            | null                              | `ï¼„{{ null }}`                 | `${{ null }}â€‹` (_${{ null && '**truthy**' || 'falsy' }}_)                    |
            | number     |                                   |                                |                                                                             |
            |            | integer                           | `ï¼„{{ 711 }}`                  | `${{ 711 }}` (_${{ 711 && '**truthy**' || 'falsy' }}_)                      |
            |            | float                             | `ï¼„{{ -9.2 }}`                 | `${{ -9.2 }}` (_${{ -9.2 && '**truthy**' || 'falsy' }}_)                    |
            |            | hex                               | `ï¼„{{ 0xff }}`                 | `${{ 0xff }}` (_${{ 0xff && '**truthy**' || 'falsy' }}_)                    |
            |            | exponential                       | `ï¼„{{ -2.99e-2 }}`             | `${{ -2.99e-2 }}` (_${{ -2.99e-2 && '**truthy**' || 'falsy' }}_)            |
            |            | large exponential                 | `ï¼„{{ 6.02e23 }}`              | `${{ 6.02e23 }}` (_${{ 6.02e23 && '**truthy**' || 'falsy' }}_)              |
            | string     |                                   |                                |                                                                             |
            |            | unquoted (implicit string)        | `Mona the Octocat`             | `Mona the Octocat`                                                          |
            |            | unquoted (implicit) in expression | `ï¼„{{ Mona the Octocat }}`     | `error`: _items unparsable and unavailable as named context_                |
            |            | single quoted (raw string)        | `'Mona the Octocat'`           | `${{ 'Mona the Octocat' }}`                                                 |
            |            | single quoted (raw) escaping      | `'It''s Mona, "the" Octocat'`  | `${{ 'It''s Mona, "the" Octocat' }}`                                        |
            |            | single quoted (raw) in expression | `ï¼„{{ 'Mona the Octocat' }}`   | `${{ 'Mona the Octocat' }}` (_${{ 'Mona the' && '**truthy**' || 'falsy' }}_)|
            |            | double quoted                     | `"Mona the Octocat"`           | `"Mona the Octocat"` _(all inside is evaluated; result is implicit string)_ |
            |            | double quoted in expression       | `ï¼„{{ "Mona the Octocat" }}`   | `error`: _double quotes not allowed inside expression (handles as symbol)_  |

          EOM


      - name: Type casting and Coercion
        id: casting
        run: |

          cat >> "${GITHUB_STEP_SUMMARY}" <<'EOM'

          ## Type Casting & Coercion
          > How GitHub Actions Workflows normalize data when performing comparisons
          GitHub performs _loose equality_ comparisons:
          - When comparing with **operators**, _if types do **not** match_, operands are _coerced to **numbers**_ using the conversions described below;
          - When comparisons are part of a function internal behavior, those functions _cast argument values to **strings**_ to perform comparisons, using the conversions described below;
          In addition to that, the `fromJSON()` function can be used to convert any data type that can be represented in JSON or JavaScript.
            Since `fromJSON()` takes in a string and returns the value inside it parsed as its corresponding deserialized type, its argument must be a string containing a legal/parseable JSON value.
            Because of that, the value (`x`) to be parsed must be either wrapped in quotes (`'x'`) or previously converted to a JSON string using the `toJSON(x)` function.

          Conversion rules:
          | Type    |  Variation    | Value (`x`)       | Operators converts to (number)                  | Functions converts to (string)                  | `fromJSON('x')` parses `x` as                 |
          | :------ | :------------ | :---------------: | :---------------------------------------------: | :---------------------------------------------: | :-------------------------------------------: |
          | null    |               |                   |                                                 |                                                 |                                               |
          |         | null          | `null`            | `${{ fromJSON('0') }}`                          | `'${{ join(null) }}'`                           | `${{ fromJSON('null') }}â€‹` (= `null`)          |
          | boolean |               |                   |                                                 |                                                 |                                               |
          |         | true          | `true`            | `${{ fromJSON('1') }}`                          | `'${{ join(true) }}'`                           | `${{ fromJSON('true') }}`                     |
          |         | false         | `false`           | `${{ fromJSON('0') }}`                          | `'${{ join(false) }}'`                          | `${{ fromJSON('false') }}`                    |
          | number  |               |                   | _already number, no coercion needed_            | _decimal format, exponential for large numbers_ |                                               |
          |         | integer       | `711`             | `${{ fromJSON('711') }}`                        | `'${{ join(711) }}'`                            | `${{ fromJSON('711') }}`                      |
          |         | float         | `-9.2`            | `${{ fromJSON('-9.2') }}`                       | `'${{ join(-9.2) }}'`                           | `${{ fromJSON('-9.2') }}`                     |
          |         | hex           | `0xff`            | `${{ fromJSON('0xff') }}`                       | `'${{ join(0xff) }}'`                           | `${{ fromJSON('0xff') }}`                     |
          |         | exponential   | `-2.99e-2`        | `${{ fromJSON('-2.99e-2') }}`                   | `'${{ join(-2.99e-2) }}'`                       | `${{ fromJSON('-2.99e-2') }}`                 |
          |         | large num     | `6.02e23`         | `${{ fromJSON('6.02e23') }}`                    | `'${{ join(6.02e23) }}'`                        | `${{ fromJSON('6.02e23') }}`                  |
          | string  |               |                   | _`0` if empty, number if legal JSON,else `NaN`_ | _already string, no conversion needed_          | _double quote value to parse as str: `'"x"'`_ | 
          |         | string        | `'The Octocat'`   | `${{ fromJSON('NaN') }}`                        | `'${{ join('The Octocat') }}'`                  | `${{ fromJSON('"The Octocat"') }}`            |
          |         | empty str     | `""`              | `${{ fromJSON('0') }}`                          | `'${{ join('') }}'`                             | `${{ fromJSON('""') }}â€‹` (_empty string_)      |
          |         | numeric str   | `'711'`           | `${{ fromJSON('711') }}`                        | `'${{ join('711') }}'`                          | `${{ fromJSON('"711"') }}`                    |
          |         | float num str | `'-9.2'`          | `${{ fromJSON('-9.2') }}`                       | `'${{ join('-9.2') }}'`                         | `${{ fromJSON('"-9.2"') }}`                   |
          |         | hex num str   | `'0xff'`          | `${{ fromJSON('0xff') }}`                       | `'${{ join('0xff') }}'`                         | `${{ fromJSON('"0xff"') }}`                   |
          |         | exp num str   | `'-2.99e-2'`      | `${{ fromJSON('-2.99e-2') }}`                   | `'${{ join('-2.99e-2') }}'`                     | `${{ fromJSON('"-2.99e-2"') }}`               |
          |         | large num str | `'6.02e23'`       | `${{ fromJSON('6.02e23') }}`                    | `'${{ join('6.02e23') }}'`                      | `${{ fromJSON('"6.02e23"') }}`                |
          |         | bool num str  | `'true'`          | `${{ fromJSON('NaN') }}`                        | `'${{ join('true') }}'`                         | `${{ fromJSON('"true"') }}`                   |
          |         |               | `'false'`         | `${{ fromJSON('NaN') }}`                        | `'${{ join('false') }}'`                        | `${{ fromJSON('"false"') }}`                  |
          | array   |               |                   | _only equal to themselves (same instance)_      | _Arrays cannot be converted to strings_         |                                               |
          |         |               | `["a", 9, true]`  | `${{ fromJSON('NaN') }}`                        | _`error` if fun param does not expect an array_ | `${{ fromJSON('["a", 9, true]') }}`           |
          | object  |               |                   | _only equal to themselves (same instance)_      | _Objects cannot be converted to strings_        |                                               |
          |         |               | `{"key": "value"}`| `${{ fromJSON('NaN') }}`                        | _`error` if param does not expect an object_    | `${{ fromJSON('{"key": "value"}') }}`         |

      - name: Comparing Values
        id: comparisons
        run: |
          cat >> "${GITHUB_STEP_SUMMARY}" <<'EOM'
          > Exploring  how different types behave when compared through different approaches

          | y` \ `x`    | _approaches to check `x` for `y`_   | **`true`**                          | **`false`**                          | **`1`**                          | **`0`**                          | **`'foo'`**                          | **`null`**                          | **`NaN`**                          |
          | :--: | :-- | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
          |             |`x && 'truthy' \|\| 'falsy'`         | _**truthy**_                          | _falsy_                          | _${{ 1 && '**truthy**' || 'falsy'}}_                       | _${{ 0 && '**truthy**' || 'falsy'}}_                     | _${{ 'foo' && '**truthy**' || 'falsy'}}_                    | _${{ null && 'truthy' || 'falsy' }}_                      |_${{ NaN && 'truthy' || 'falsy' }}_                       |
          |**`true`**   |`x == true`                          | âœ…                          | âŒ                          | ${{1==true && 'âœ…' || 'âŒ'}}                          | ${{0==true && 'âœ…' || 'âŒ'}}                          | ${{'foo'==true && 'âœ…' || 'âŒ'}}                          | ${{null==true && 'âœ…' || 'âŒ'}}                          | ${{NaN==true && 'âœ…' || 'âŒ'}}                          |
          |             |`contains(x,true)`                   | âœ…                          | ${{contains(false,true) && 'âœ…' || 'âŒ'}}                    | ${{contains(1,true) && 'âœ…' || 'âŒ'}}                    | ${{contains(0,true) && 'âœ…' || 'âŒ'}}                    | ${{contains('foo',true) && 'âœ…' || 'âŒ'}}              | ${{contains(null,true) && 'âœ…' || 'âŒ'}}              | ${{contains(NaN,true) && 'âœ…' || 'âŒ'}}              |
          |             |`contains(fromJSON('[x]'),true)`     | ${{contains(fromJSON('[true]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[false]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[1]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[0]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["foo"]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[NaN]'),true) && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]'),true)`   | ${{contains(fromJSON('["true"]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),true) && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),true) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["NaN"]'),true) && 'âœ…' || 'âŒ'}}  |
          |**`'true'`** |`x == 'true'`                        | ${{true=='true' && 'âœ…' || 'âŒ'}}                          | ${{false=='true' && 'âœ…' || 'âŒ'}}                          | ${{1=='true' && 'âœ…' || 'âŒ'}}                          | ${{0=='true' && 'âœ…' || 'âŒ'}}                          | ${{'foo'=='true' && 'âœ…' || 'âŒ'}}                    | ${{null=='true' && 'âœ…' || 'âŒ'}}                    | ${{NaN=='true' && 'âœ…' || 'âŒ'}}                    |
          |             |`contains(x,'true')`                 | ${{contains(true,'true') && 'âœ…' || 'âŒ'}}              | ${{contains(false,'true') && 'âœ…' || 'âŒ'}}              | ${{contains(1,'true') && 'âœ…' || 'âŒ'}}              | ${{contains(0,'true') && 'âœ…' || 'âŒ'}}              | ${{contains('foo','true') && 'âœ…' || 'âŒ'}}              | ${{contains(null,'true') && 'âœ…' || 'âŒ'}}              | ${{contains(NaN,'true') && 'âœ…' || 'âŒ'}}              |
          |             |`contains('true',x)`                 | ${{contains('true',true) && 'âœ…' || 'âŒ'}}              | ${{contains('true',false) && 'âœ…' || 'âŒ'}}              | ${{contains('true',1) && 'âœ…' || 'âŒ'}}              | ${{contains('true',0) && 'âœ…' || 'âŒ'}}              | ${{contains('true','foo') && 'âœ…' || 'âŒ'}}              | ${{contains('true',null) && 'âœ…' || 'âŒ'}}              | ${{contains('true',NaN) && 'âœ…' || 'âŒ'}}              |
          |             |`contains(fromJSON('[x]'),'true')`   | ${{contains(fromJSON('[true]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[false]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[1]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[0]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["foo"]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),'true') && 'âœ…' || 'âŒ'}}  |`{${contains(fromJSON('[NaN]'),'true') && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]'),'true')` | ${{contains(fromJSON('["true"]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),'true') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),'true') && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),'true') && 'âœ…' || 'âŒ'}} | ${{contains(fromJSON('["NaN"]'),'true') && 'âœ…' || 'âŒ'}} |
          |**`false`**  |`x == false`                         | âŒ                          | âœ…                          | ${{1==false && 'âœ…' || 'âŒ'}}                          | ${{0==false && 'âœ…' || 'âŒ'}}                          | ${{'foo'==false && 'âœ…' || 'âŒ'}}                          | ${{null==false && 'âœ…' || 'âŒ'}}                          | ${{NaN==false && 'âœ…' || 'âŒ'}}                          |
          |             |`contains(x,false)`                  | ${{contains(true,false) && 'âœ…' || 'âŒ'}}              | âœ…                          | ${{contains(1,false) && 'âœ…' || 'âŒ'}}              | ${{contains(0,false) && 'âœ…' || 'âŒ'}}              | ${{contains('foo',false) && 'âœ…' || 'âŒ'}}              | ${{contains(null,false) && 'âœ…' || 'âŒ'}}              | ${{contains(NaN,false) && 'âœ…' || 'âŒ'}}              |
          |             |`contains(fromJSON('[x]'),false)`    | ${{contains(fromJSON('[true]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[false]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[1]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[0]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["foo"]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[NaN]'),false) && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]'),false)`  | ${{contains(fromJSON('["true"]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),false) && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),false) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["NaN"]'),false) && 'âœ…' || 'âŒ'}} |
          |**`'false'`**|`x == 'false'`                       | ${{true=='false' && 'âœ…' || 'âŒ'}}                          | ${{false=='false' && 'âœ…' || 'âŒ'}}                          | ${{1=='false' && 'âœ…' || 'âŒ'}}                          | ${{0=='false' && 'âœ…' || 'âŒ'}}                          | ${{'foo'=='false' && 'âœ…' || 'âŒ'}}                    | ${{null=='false' && 'âœ…' || 'âŒ'}}                    | ${{NaN=='false' && 'âœ…' || 'âŒ'}}                    |
          |             |`contains(x,'false')`                | ${{contains(true,'false') && 'âœ…' || 'âŒ'}}              | ${{contains(false,'false') && 'âœ…' || 'âŒ'}}              | ${{contains(1,'false') && 'âœ…' || 'âŒ'}}              | ${{contains(0,'false') && 'âœ…' || 'âŒ'}}              | ${{contains('foo','false') && 'âœ…' || 'âŒ'}}              | ${{contains(null,'false') && 'âœ…' || 'âŒ'}}              | ${{contains(NaN,'false') && 'âœ…' || 'âŒ'}}              |
          |             |`contains('false',x)`                | ${{contains('false',true) && 'âœ…' || 'âŒ'}}              | ${{contains('false',false) && 'âœ…' || 'âŒ'}}              | ${{contains('false',1) && 'âœ…' || 'âŒ'}}              | ${{contains('false',0) && 'âœ…' || 'âŒ'}}              | ${{contains('false','foo') && 'âœ…' || 'âŒ'}}              | ${{contains('false',null) && 'âœ…' || 'âŒ'}}              | ${{contains('false',NaN) && 'âœ…' || 'âŒ'}}              |
          |             |`contains(fromJSON('[x]'),'false')`  | ${{contains(fromJSON('[true]'),'false') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[false]'),'false') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[1]'),'false') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[0]'),'false') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["foo"]'),'false') && 'âœ…' || 'âŒ'}} | ${{contains(fromJSON('[null]'),'false') && 'âœ…' || 'âŒ'}} |`{${contains(fromJSON('[NaN]'),'false') && 'âœ…' || 'âŒ'}} |
          |             |`contains(fromJSON('["x"]'),'false')`| ${{contains(fromJSON('["true"]'),'false') && 'âœ…' || 'âŒ'}} | ${{contains(fromJSON('["false"]'),'false') && 'âœ…' || 'âŒ'}} | ${{contains(fromJSON('["1"]'),'false') && 'âœ…' || 'âŒ'}} | ${{contains(fromJSON('["0"]'),'false') && 'âœ…' || 'âŒ'}} | â¸                          | ${{contains(fromJSON('["null"]'),'false') && 'âœ…' || 'âŒ'}} | ${{contains(fromJSON('["NaN"]'),'false') && 'âœ…' || 'âŒ'}} |
          |**`1`**      |`x == 1`                          | ${{true==1 && 'âœ…' || 'âŒ'}}                          | ${{false==1 && 'âœ…' || 'âŒ'}}                          | âœ…                          | âŒ                          | ${{'foo'==1 && 'âœ…' || 'âŒ'}}                          | ${{null==1 && 'âœ…' || 'âŒ'}}                          | ${{NaN==1 && 'âœ…' || 'âŒ'}}                          |
          |             |`contains(x, 1)`                     | ${{contains(true,1) && 'âœ…' || 'âŒ'}}                    | ${{contains(false,1) && 'âœ…' || 'âŒ'}}                    | âœ…                          | ${{contains(0,1) && 'âœ…' || 'âŒ'}}                    | ${{contains('foo',1) && 'âœ…' || 'âŒ'}}                    | ${{contains(null,1) && 'âœ…' || 'âŒ'}}                    | ${{contains(NaN,1) && 'âœ…' || 'âŒ'}}                    |
          |             |`contains(fromJSON('[x]'),1)`        | ${{contains(fromJSON('[true]'),1) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('[false]'),1) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('[1]'),1) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('[0]'),1) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('["foo"]'),1) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),1) && 'âœ…' || 'âŒ'}}  |`{${contains(fromJSON('[NaN]'),1) && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]'),1)`      | ${{contains(fromJSON('["true"]'),1) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),1) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),1) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),1) && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),1) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["NaN"]'),1) && 'âœ…' || 'âŒ'}}  |
          |**`'1'`**    |`x == '1'`                          | ${{true=='1' && 'âœ…' || 'âŒ'}}                          | ${{false=='1' && 'âœ…' || 'âŒ'}}                          | ${{1=='1' && 'âœ…' || 'âŒ'}}                          | ${{0=='1' && 'âœ…' || 'âŒ'}}                          | ${{'foo'=='1' && 'âœ…' || 'âŒ'}}                          | ${{null=='1' && 'âœ…' || 'âŒ'}}                          | ${{NaN=='1' && 'âœ…' || 'âŒ'}}                          |
          |             |`contains(x,'1')`                    | ${{contains(true,'1') && 'âœ…' || 'âŒ'}}                    | ${{contains(false,'1') && 'âœ…' || 'âŒ'}}                    | ${{contains(1,'1') && 'âœ…' || 'âŒ'}}                    | ${{contains(0,'1') && 'âœ…' || 'âŒ'}}                    | ${{contains('foo','1') && 'âœ…' || 'âŒ'}}              | ${{contains(null,'1') && 'âœ…' || 'âŒ'}}              | ${{contains(NaN,'1') && 'âœ…' || 'âŒ'}}              |
          |             |`contains('1',x)`                    | ${{contains('1',true) && 'âœ…' || 'âŒ'}}                    | ${{contains('1',false) && 'âœ…' || 'âŒ'}}                    | ${{contains('1',1) && 'âœ…' || 'âŒ'}}                    | ${{contains('1',0) && 'âœ…' || 'âŒ'}}                    | ${{contains('1','foo') && 'âœ…' || 'âŒ'}}              | ${{contains('1',null) && 'âœ…' || 'âŒ'}}              | ${{contains('1',NaN) && 'âœ…' || 'âŒ'}}              |
          |             |`contains(fromJSON('[x]'),'1')`      | ${{contains(fromJSON('[true]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[false]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[1]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[0]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["foo"]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),'1') && 'âœ…' || 'âŒ'}}  |`{${contains(fromJSON('[NaN]'),'1') && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]'),'1')`    | ${{contains(fromJSON('["true"]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),'1') && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),'1') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["NaN"]'),'1') && 'âœ…' || 'âŒ'}}  |
          |**`0`**      |`x == 0`                          | ${{true==0 && 'âœ…' || 'âŒ'}}                          | ${{false==0 && 'âœ…' || 'âŒ'}}                          | âŒ                          | âœ…                          | ${{'foo'==0 && 'âœ…' || 'âŒ'}}                          | ${{null==0 && 'âœ…' || 'âŒ'}}                          | ${{NaN==0 && 'âœ…' || 'âŒ'}}                          |
          |             |`contains(x,0)`                      | ${{contains(true,0) && 'âœ…' || 'âŒ'}}                    | ${{contains(false,0) && 'âœ…' || 'âŒ'}}                    | ${{contains(1,0) && 'âœ…' || 'âŒ'}}                    | âœ…                          | ${{contains('foo',0) && 'âœ…' || 'âŒ'}}                    | ${{contains(null,0) && 'âœ…' || 'âŒ'}}                    | ${{contains(NaN,0) && 'âœ…' || 'âŒ'}}                    |
          |             |`contains(fromJSON('[x]'),0)`        | ${{contains(fromJSON('[true]'),0) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('[false]'),0) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('[1]'),0) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('[0]'),0) && 'âœ…' || 'âŒ'}}        | ${{contains(fromJSON('["foo"]'),0) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),0) && 'âœ…' || 'âŒ'}}  |`{${contains(fromJSON('[NaN]'),0) && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]')`         | ${{contains(fromJSON('["true"]'),0) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),0) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),0) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),0) && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),0) && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["NaN"]'),0) && 'âœ…' || 'âŒ'}}  |
          |**`'0'`**    |`x == '0'`                          | ${{true=='0' && 'âœ…' || 'âŒ'}}                          | ${{false=='0' && 'âœ…' || 'âŒ'}}                          | ${{1=='0' && 'âœ…' || 'âŒ'}}                          | ${{0=='0' && 'âœ…' || 'âŒ'}}                          | ${{'foo'=='0' && 'âœ…' || 'âŒ'}}                          | ${{null=='0' && 'âœ…' || 'âŒ'}}                          | ${{NaN=='0' && 'âœ…' || 'âŒ'}}                          |
          |             |`contains(x,'0')`                    | ${{contains(true,'0') && 'âœ…' || 'âŒ'}}                    | ${{contains(false,'0') && 'âœ…' || 'âŒ'}}                    | ${{contains(1,'0') && 'âœ…' || 'âŒ'}}                    | ${{contains(0,'0') && 'âœ…' || 'âŒ'}}                    | ${{contains('foo','0') && 'âœ…' || 'âŒ'}}              | ${{contains(null,'0') && 'âœ…' || 'âŒ'}}              | ${{contains(NaN,'0') && 'âœ…' || 'âŒ'}}              |
          |             |`contains('0',x)`                    | ${{contains('0',true) && 'âœ…' || 'âŒ'}}                    | ${{contains('0',false) && 'âœ…' || 'âŒ'}}                    | ${{contains('0',1) && 'âœ…' || 'âŒ'}}                    | ${{contains('0',0) && 'âœ…' || 'âŒ'}}                    | ${{contains('0','foo') && 'âœ…' || 'âŒ'}}              | ${{contains('0',null) && 'âœ…' || 'âŒ'}}              | ${{contains('0',NaN) && 'âœ…' || 'âŒ'}}              |
          |             |`contains(fromJSON('[x]'),'0')`      | ${{contains(fromJSON('[true]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[false]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[1]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[0]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["foo"]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),'0') && 'âœ…' || 'âŒ'}}  |`{${contains(fromJSON('[NaN]'),'0') && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]'),'0')`    | ${{contains(fromJSON('["true"]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),'0') && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),'0') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["NaN"]'),'0') && 'âœ…' || 'âŒ'}}  |
          |**`'foo'`**  |`x == 'foo'`                         | ${{true=='foo' && 'âœ…' || 'âŒ'}}                          | ${{false=='foo' && 'âœ…' || 'âŒ'}}                          | ${{1=='foo' && 'âœ…' || 'âŒ'}}                          | ${{0=='foo' && 'âœ…' || 'âŒ'}}                          | âœ…                          | ${{null=='foo' && 'âœ…' || 'âŒ'}}                          | ${{NaN=='foo' && 'âœ…' || 'âŒ'}}                          |
          |             |`contains(x,'foo')`                  | ${{contains(true,'foo') && 'âœ…' || 'âŒ'}}              | ${{contains(false,'foo') && 'âœ…' || 'âŒ'}}              | ${{contains(1,'foo') && 'âœ…' || 'âŒ'}}              | ${{contains(0,'foo') && 'âœ…' || 'âŒ'}}              | âœ…                          | ${{contains(null,'foo') && 'âœ…' || 'âŒ'}}              |`{${contains(NaN,'foo') && 'âœ…' || 'âŒ'}}              |
          |             |`contains(fromJSON('[x]'),'foo')`    | ${{contains(fromJSON('[true]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[false]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[1]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[0]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["foo"]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('[null]'),'foo') && 'âœ…' || 'âŒ'}}  |`{${contains(fromJSON('[NaN]'),'foo') && 'âœ…' || 'âŒ'}}  |
          |             |`contains(fromJSON('["x"]'),'foo')`  | ${{contains(fromJSON('["true"]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["false"]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["1"]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["0"]'),'foo') && 'âœ…' || 'âŒ'}}  | â¸                          | ${{contains(fromJSON('["null"]'),'foo') && 'âœ…' || 'âŒ'}}  | ${{contains(fromJSON('["NaN"]'),'foo') && 'âœ…' || 'âŒ'}} |
          EOM

      - name: Recommended patterns
        id: patterns
        run: |
          cat >> "${GITHUB_STEP_SUMMARY}" <<'EOM'
          > Best patterns for comparing values of different types in GitHub Actions Workflows

          TODO: Add arrays and objects indexing and filtering

          TODO: Add best patterns for comparisons and general var/input handling in control flow
          |**`null`**   |`x == null`                          |`${{true==null && 'âœ…' || 'âŒ'}}`                            |`${{false==null && 'âœ…' || 'âŒ'}}`                            |`${{1==null && 'âœ…' || 'âŒ'}}`                            |`${{0==null && 'âœ…' || 'âŒ'}}`                            |`${{'foo'==null && 'âœ…' || 'âŒ'}}`                            | `âœ…`                                                         |
          |             |`contains(x,null)`                   |`${{contains(true,null) && 'âœ…' || 'âŒ'}}`                   |`${{contains(false,null) && 'âœ…' || 'âŒ'}}`                   |`${{contains(1,null) && 'âœ…' || 'âŒ'}}`                   |`${{contains(0,null) && 'âœ…' || 'âŒ'}}`                   |`${{contains('foo',null) && 'âœ…' || 'âŒ'}}`                   | `âœ…`                                                         |
          |             |`contains(fromJSON('[x]'),null)`     |`${{contains(fromJSON('[true]'),null) && 'âœ…' || 'âŒ'}}`     |`${{contains(fromJSON('[false]'),null) && 'âœ…' || 'âŒ'}}`     |`${{contains(fromJSON('[1]'),null) && 'âœ…' || 'âŒ'}}`     |`${{contains(fromJSON('[0]'),null) && 'âœ…' || 'âŒ'}}`     |`${{contains(fromJSON('["foo"]'),null) && 'âœ…' || 'âŒ'}}`     |`${{contains(fromJSON('[null]'),null) && 'âœ…' || 'âŒ'}}`     |
          |             |`contains(fromJSON('["x"]'),null)`   |`${{contains(fromJSON('["true"]'),null) && 'âœ…' || 'âŒ'}}`   |`${{contains(fromJSON('["false"]'),null) && 'âœ…' || 'âŒ'}}`   |`${{contains(fromJSON('["1"]'),null) && 'âœ…' || 'âŒ'}}`   |`${{contains(fromJSON('["0"]'),null) && 'âœ…' || 'âŒ'}}`   | â¸                                                            | ğŸ›‡                                                            |
          |**`NaN`**    |`x == NaN`                           |`${{true==NaN && 'âœ…' || 'âŒ'}}`                             |`${{false==NaN && 'âœ…' || 'âŒ'}}`                             |`${{1==NaN && 'âœ…' || 'âŒ'}}`                             |`${{0==NaN && 'âœ…' || 'âŒ'}}`                             |`${{'foo'==NaN && 'âœ…' || 'âŒ'}}`                             |`${{null==NaN && 'âœ…' || 'âŒ'}}`                             |
          |             |`contains(x,NaN)`                    |`${{contains(true,NaN) && 'âœ…' || 'âŒ'}}`                    |`${{contains(false,NaN) && 'âœ…' || 'âŒ'}}`                    |`${{contains(1,NaN) && 'âœ…' || 'âŒ'}}`                    |`${{contains(0,NaN) && 'âœ…' || 'âŒ'}}`                    |`${{contains('foo',NaN) && 'âœ…' || 'âŒ'}}`                    |`${{contains(null,NaN) && 'âœ…' || 'âŒ'}}`                    |
          |             |`contains(NaN,x)`                    |`${{contains(NaN,true) && 'âœ…' || 'âŒ'}}`                    |`${{contains(NaN,false) && 'âœ…' || 'âŒ'}}`                    |`${{contains(NaN,1) && 'âœ…' || 'âŒ'}}`                    |`${{contains(NaN,0) && 'âœ…' || 'âŒ'}}`                    |`${{contains(NaN,'foo') && 'âœ…' || 'âŒ'}}`                    |`${{contains(NaN,null) && 'âœ…' || 'âŒ'}}`                    |
          |             |`contains(fromJSON('[x]'),NaN)`      |`${{contains(fromJSON('[true]'),NaN) && 'âœ…' || 'âŒ'}}`      |`${{contains(fromJSON('[false]'),NaN) && 'âœ…' || 'âŒ'}}`      |`${{contains(fromJSON('[1]'),NaN) && 'âœ…' || 'âŒ'}}`      |`${{contains(fromJSON('[0]'),NaN) && 'âœ…' || 'âŒ'}}`      |`${{contains(fromJSON('["foo"]'),NaN) && 'âœ…' || 'âŒ'}}`      |`${{contains(fromJSON('[null]'),NaN) && 'âœ…' || 'âŒ'}}`      |
          |             |`contains(fromJSON('["x"]'),NaN)`    |`${{contains(fromJSON('["true"]'),NaN) && 'âœ…' || 'âŒ'}}`    |`${{contains(fromJSON('["false"]'),NaN) && 'âœ…' || 'âŒ'}}`    |`${{contains(fromJSON('["1"]'),NaN) && 'âœ…' || 'âŒ'}}`    |`${{contains(fromJSON('["0"]'),NaN) && 'âœ…' || 'âŒ'}}`    | â¸                                                            | ğŸ›‡                                                            |

          EOM

      - name: Skippable
        id: skippable
        if: inputs.string-input != 'skip'
        run: echo "This step was not skipped."

      - name: Sleep
        id: sleep
        run: sleep 5

      - name: Run test
        id: test
        continue-on-error: ${{ contains(inputs.continue-on-error, 'true') }}
        run: |
          echo test
          echo "---      ---      ---"
          ${{ contains(inputs.break, 'true') && true || false }} && exit 1 || true
          echo
