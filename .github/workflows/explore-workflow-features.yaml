name: Explore Workflow Features
run-name: >-
  ${{ github.workflow }}
  ${{ contains(inputs.break, 'true') && ' ðŸ’¥' || ''}}
  ${{ contains(inputs.continue-on-error, 'true') && ' ðŸš§' || ''}}
  ${{ format('(string:{0}; boolean:{1}; runs-on:{2})', 
    inputs.string-input, 
    inputs.boolean-input, 
    inputs.runs-on
  ) }}

on:
  workflow_dispatch:
    inputs:
      runs-on:
        description: "runs-on argument"
        required: false
        type: string
        default: 'ubuntu-latest'
      string-input:
        description: "My string input"
        required: false
        type: string
      boolean-input:
        description: "My boolean input"
        required: false
        type: boolean
      break:
        description: "Break the workflow"
        required: false
        type: boolean
        default: false
      continue-on-error:
        description: "Continue on error"
        required: false
        type: boolean
        default: false

env:
  STRING_INPUT: ${{ inputs.string-input }}
  BOOLEAN_INPUT: ${{ inputs.boolean-input }}
  RUNS_ON: ${{ inputs.runs-on }}

jobs:
  explore:
    runs-on: >-
      ${{
        ( contains(inputs.runs-on, '"') || contains(inputs.runs-on, '''') ) &&
        fromJSON(inputs.runs-on) ||
        inputs.runs-on
      }}
    if: inputs.string-input != 'skipjob'
    outputs:
      steps-context: ${{ toJSON(steps) }}
      job-context: ${{ toJSON(job) || 'null' }}
      job-status: ${{ job.status || 'null' }}
      outcome: >-
        ${{ 
          contains(steps.*.outcome, 'failure') && 
            'failure' ||
            job.status || 
            'null' 
        }}

    steps:
      - name: Print context
        id: context
        env:
          GH_CONTEXT: ${{ toJSON(github) }}
          GH_INPUTS: ${{ toJSON(inputs) }}
          GH_RUNNER: ${{ toJSON(runner) }}
          GH_EVENT: ${{ toJSON(github.event) }}
        run: |
          echo "::group::Inputs with different access methods:"
          echo "inputs.string-input: ${{ inputs.string-input }}"
          echo "inputs['string-input']: ${{ inputs['string-input'] }}"
          echo "github.event.inputs.string-input: ${{ github.event.inputs.string-input }}"
          echo "toJSON(inputs.string-input): ${{ toJSON(inputs.string-input) }}"
          echo "toJSON(inputs['string-input']): ${{ toJSON(inputs['string-input']) }}"
          echo "toJSON(github.event.inputs.string-input): ${{ toJSON(github.event.inputs.string-input) }}"
          echo "env.STRING_INPUT: ${{ env.STRING_INPUT }}"
          echo "\${STRING_INPUT}: ${STRING_INPUT}"
          echo
          echo "inputs.boolean-input: ${{ inputs.boolean-input }}"
          echo "inputs['boolean-input']: ${{ inputs['boolean-input'] }}"
          echo "github.event.inputs.boolean-input: ${{ github.event.inputs.boolean-input }}"
          echo "toJSON(inputs['boolean-input']): ${{ toJSON(inputs.boolean-input) }}"
          echo "toJSON(inputs['boolean-input']): ${{ toJSON(inputs['boolean-input']) }}"
          echo "toJSON(github.event.inputs.boolean-input): ${{ toJSON(github.event.inputs.boolean-input) }}"
          echo "env.BOOLEAN_INPUT: ${{ env.BOOLEAN_INPUT }}"
          echo "\${BOOLEAN_INPUT}: ${BOOLEAN_INPUT}"
          echo "::endgroup::"
          echo 
          echo "::group::boolean-input comparisons:"
          echo "inputs.boolean-input == true: ${{ inputs.boolean-input == true && 'true' || 'false' }}"
          echo "inputs.boolean-input == false: ${{ inputs.boolean-input == false && 'true' || 'false' }}"
          echo "inputs.boolean-input == 'true': ${{ inputs.boolean-input == 'true' && 'true' || 'false' }}"
          echo "inputs.boolean-input == 'false': ${{ inputs.boolean-input == 'false' && 'true' || 'false' }}"
          echo "inputs.boolean-input == 1: ${{ inputs.boolean-input == 1 && 'true' || 'false' }}"
          echo "inputs.boolean-input == 0: ${{ inputs.boolean-input == 0 && 'true' || 'false' }}"
          echo "inputs.boolean-input == '1': ${{ inputs.boolean-input == '1' && 'true' || 'false' }}"
          echo "inputs.boolean-input == '0': ${{ inputs.boolean-input == '0' && 'true' || 'false' }}"
          echo "contains(inputs.boolean-input, 'true'): ${{ contains(inputs.boolean-input, 'true') && 'true' || 'false' }}" # Best so far when need to default to false (wants true only when explicit)
          echo "!contains(inputs.boolean-input, 'true'): ${{ !contains(inputs.boolean-input, 'true') && 'true' || 'false' }}" # Only returns false when the arg is explicitly true. Just like "contains(inputs.boolean-input, 'true')", but inverts the result (returns true when that would return false).
          echo "contains(inputs.boolean-input, 'false'): ${{ contains(inputs.boolean-input, 'false') && 'true' || 'false' }}" # Only returns true when the arg is explicitly false. Just like "!contains(inputs.boolean-input, 'false')", but inverts the result (returns true when that would return false).
          echo "!contains(inputs.boolean-input, 'false'): ${{ !contains(inputs.boolean-input, 'false') && 'true' || 'false' }}" # Best so far when need to default to true (wants false only when explicit)
          echo
          echo "contains(inputs.boolean-input, true): ${{ contains(inputs.boolean-input, true) && 'true' || 'false' }}"
          echo "!contains(inputs.boolean-input, false): ${{ !contains(inputs.boolean-input, false) && 'true' || 'false' }}"
          echo
          echo "inputs.boolean-input == null: ${{ inputs.boolean-input == null && 'true' || 'false' }}"
          echo "inputs.boolean-input != null: ${{ inputs.boolean-input != null && 'true' || 'false' }}"
          echo "inputs.boolean-input == 'null': ${{ inputs.boolean-input == 'null' && 'true' || 'false' }}"
          echo "inputs.boolean-input != 'null': ${{ inputs.boolean-input != 'null' && 'true' || 'false' }}"
          echo "contains(inputs.boolean-input, 'null'): ${{ contains(inputs.boolean-input, 'null') && 'true' || 'false' }}"
          echo "!contains(inputs.boolean-input, 'null'): ${{ !contains(inputs.boolean-input, 'null') && 'true' || 'false' }}"
          echo "contains(inputs.boolean-input, null): ${{ contains(inputs.boolean-input, null) && 'true' || 'false' }}"
          echo "!contains(inputs.boolean-input, null): ${{ !contains(inputs.boolean-input, null) && 'true' || 'false' }}"
          echo "::endgroup::"
          echo
          echo "::group::null-input comparisons:"
          echo "inputs.null-input == true: ${{ inputs.null-input == true && 'true' || 'false' }}"
          echo "inputs.null-input == false: ${{ inputs.null-input == false && 'true' || 'false' }}"
          echo "inputs.null-input == 'true': ${{ inputs.null-input == 'true' && 'true' || 'false' }}"
          echo "inputs.null-input == 'false': ${{ inputs.null-input == 'false' && 'true' || 'false' }}"
          echo "inputs.null-input == 1: ${{ inputs.null-input == 1 && 'true' || 'false' }}"
          echo "inputs.null-input == 0: ${{ inputs.null-input == 0 && 'true' || 'false' }}"
          echo "inputs.null-input == '1': ${{ inputs.null-input == '1' && 'true' || 'false' }}"
          echo "inputs.null-input == '0': ${{ inputs.null-input == '0' && 'true' || 'false' }}"
          echo
          echo "contains(inputs.null-input, 'true'): ${{ contains(inputs.null-input, 'true') && 'true' || 'false' }}"
          echo "!contains(inputs.null-input, 'true'): ${{ !contains(inputs.null-input, 'true') && 'true' || 'false' }}"
          echo "contains(inputs.null-input, 'false'): ${{ contains(inputs.null-input, 'false') && 'true' || 'false' }}"
          echo "!contains(inputs.null-input, 'false'): ${{ !contains(inputs.null-input, 'false') && 'true' || 'false' }}"
          echo
          echo
          echo "contains(inputs.null-input, true): ${{ contains(inputs.null-input, true) && 'true' || 'false' }}"
          echo "!contains(inputs.null-input, false): ${{ !contains(inputs.null-input, false) && 'true' || 'false' }}"
          echo
          echo "inputs.null-input == null: ${{ inputs.null-input == null && 'true' || 'false' }}"
          echo "inputs.null-input != null: ${{ inputs.null-input != null && 'true' || 'false' }}"
          echo "inputs.null-input == 'null': ${{ inputs.null-input == 'null' && 'true' || 'false' }}"
          echo "inputs.null-input != 'null': ${{ inputs.null-input != 'null' && 'true' || 'false' }}"
          echo "contains(inputs.null-input, 'null'): ${{ contains(inputs.null-input, 'null') && 'true' || 'false' }}"
          echo "!contains(inputs.null-input, 'null'): ${{ !contains(inputs.null-input, 'null') && 'true' || 'false' }}"
          echo "contains(inputs.null-input, null): ${{ contains(inputs.null-input, null) && 'true' || 'false' }}"
          echo "!contains(inputs.null-input, null): ${{ !contains(inputs.null-input, null) && 'true' || 'false' }}"
          echo "::endgroup::"
          echo
          echo "::group::github context comparisons:"
          echo "Testing 'github.event.repository.has_issues', that is explicitly true" 
          echo "contains(github.event.repository.has_issues, 'true'): ${{ contains(github.event.repository.has_issues, 'true') && 'true' || 'false' }}"
          echo "!contains(github.event.repository.has_issues, 'true'): ${{ !contains(github.event.repository.has_issues, 'true') && 'true' || 'false' }}"
          echo "contains(github.event.repository.has_issues, 'false'): ${{ contains(github.event.repository.has_issues, 'false') && 'true' || 'false' }}"
          echo "!contains(github.event.repository.has_issues, 'false'): ${{ !contains(github.event.repository.has_issues, 'false') && 'true' || 'false' }}"
          echo "github.event.repository.has_issues == 'null': ${{ github.event.repository.has_issues == 'null' && 'true' || 'false' }}"
          echo "github.event.repository.has_issues != 'null': ${{ github.event.repository.has_issues != 'null' && 'true' || 'false' }}"
          echo "contains(github.event.repository.has_issues, 'null'): ${{ contains(github.event.repository.has_issues, 'null') && 'true' || 'false' }}"
          echo "!contains(github.event.repository.has_issues, 'null'): ${{ !contains(github.event.repository.has_issues, 'null') && 'true' || 'false' }}"
          echo "github.event.repository.has_issues == null: ${{ github.event.repository.has_issues == null && 'true' || 'false' }}"
          echo "github.event.repository.has_issues != null: ${{ github.event.repository.has_issues != null && 'true' || 'false' }}"
          echo "contains(github.event.repository.has_issues, null): ${{ contains(github.event.repository.has_issues, null) && 'true' || 'false' }}"
          echo "!contains(github.event.repository.has_issues, null): ${{ !contains(github.event.repository.has_issues, null) && 'true' || 'false' }}"
          echo
          echo "Testing 'github.event.repository.archived', that is explicitly false" 
          echo "contains(github.event.repository.archived, 'true'): ${{ contains(github.event.repository.archived, 'true') && 'true' || 'false' }}"
          echo "!contains(github.event.repository.archived, 'true'): ${{ !contains(github.event.repository.archived, 'true') && 'true' || 'false' }}"
          echo "contains(github.event.repository.archived, 'false'): ${{ contains(github.event.repository.archived, 'false') && 'true' || 'false' }}"
          echo "!contains(github.event.repository.archived, 'false'): ${{ !contains(github.event.repository.archived, 'false') && 'true' || 'false' }}"
          echo "github.event.repository.archived == 'null': ${{ github.event.repository.archived == 'null' && 'true' || 'false' }}"
          echo "github.event.repository.archived != 'null': ${{ github.event.repository.archived != 'null' && 'true' || 'false' }}"
          echo "contains(github.event.repository.archived, 'null'): ${{ contains(github.event.repository.archived, 'null') && 'true' || 'false' }}"
          echo "!contains(github.event.repository.archived, 'null'): ${{ !contains(github.event.repository.archived, 'null') && 'true' || 'false' }}"
          echo "github.event.repository.archived == null: ${{ github.event.repository.archived == null && 'true' || 'false' }}"
          echo "github.event.repository.archived != null: ${{ github.event.repository.archived != null && 'true' || 'false' }}"
          echo "contains(github.event.repository.archived, null): ${{ contains(github.event.repository.archived, null) && 'true' || 'false' }}"
          echo "!contains(github.event.repository.archived, null): ${{ !contains(github.event.repository.archived, null) && 'true' || 'false' }}"
          echo
          echo "Testing 'github.event.release.draft', that should not exist for this workflow" 
          echo "contains(github.event.release.draft, 'true'): ${{ contains(github.event.release.draft, 'true') && 'true' || 'false' }}"
          echo "!contains(github.event.release.draft, 'true'): ${{ !contains(github.event.release.draft, 'true') && 'true' || 'false' }}"
          echo "contains(github.event.release.draft, 'false'): ${{ contains(github.event.release.draft, 'false') && 'true' || 'false' }}"
          echo "!contains(github.event.release.draft, 'false'): ${{ !contains(github.event.release.draft, 'false') && 'true' || 'false' }}"
          echo "github.event.release.draft == 'null': ${{ github.event.release.draft == 'null' && 'true' || 'false' }}"
          echo "github.event.release.draft != 'null': ${{ github.event.release.draft != 'null' && 'true' || 'false' }}"
          echo "contains(github.event.release.draft, 'null'): ${{ contains(github.event.release.draft, 'null') && 'true' || 'false' }}"
          echo "!contains(github.event.release.draft, 'null'): ${{ !contains(github.event.release.draft, 'null') && 'true' || 'false' }}"
          echo "github.event.release.draft == null: ${{ github.event.release.draft == null && 'true' || 'false' }}"
          echo "github.event.release.draft != null: ${{ github.event.release.draft != null && 'true' || 'false' }}"
          echo "contains(github.event.release.draft, null): ${{ contains(github.event.release.draft, null) && 'true' || 'false' }}"
          echo "!contains(github.event.release.draft, null): ${{ !contains(github.event.release.draft, null) && 'true' || 'false' }}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::Inputs toJSON (raw block deserialized):"
          jq . <<< "${GH_INPUTS}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::GitHub context toJSON:"
          jq . <<< "${GH_CONTEXT}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::GitHub event toJSON:"
          jq . <<< "${GH_EVENT}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::Runner context toJSON:"
          jq . <<< "${GH_RUNNER}"
          echo "::endgroup::"
          echo
          echo "---"
          echo
          echo "::group::Steps context:"
          echo "${{ toJSON(steps) }}"
          echo "::endgroup::"
          echo
          
      - name: Test GitHub expressions
        id: expressions
        run: |
          ansi()          { echo -e "\e[${1}m${*:2}\e[0m"; }
          bold()          { ansi 1 "$@"; }
          italic()        { ansi 3 "$@"; }
          underline()     { ansi 4 "$@"; }
          strikethrough() { ansi 9 "$@"; }
          red()           { ansi 31 "$@"; }
          reverse()       { ansi 7 "$@"; }
          echo "$(bold red 'Expression literal data types are:')"
          echo "- $(reverse boolean)"
          echo "- $(reverse null)"
          echo "- $(reverse number)"
          echo "- $(reverse string)"
          echo
          echo "In conditionals, $(italic falsy) values are coerced to $(reverse false)."
          echo "Falsy values are: '$(reverse false), $(reverse 0), $(reverse -0), $(reverse \"\"), $(reverse \'\'), and $(reverse null)'."
          echo "All $(italic non-falsy) values are coerced to $(reverse true)."
          echo
          echo "::group::Examples of literals:"
          echo "myNull ( \${{ null }} ): ${{ null }}"
          echo "myBoolean ( \${{ false }} ): ${{ false }}"
          echo "myIntegerNumber ( \${{ 711 }} ): ${{ 711 }}"
          echo "myFloatNumber ( \${{ -9.2 }} ): ${{ -9.2 }}"
          echo "myHexNumber ( \${{ 0xff }} ): ${{ 0xff }}"
          echo "myExponentialNumber ( \${{ -2.99e-2 }} ): ${{ -2.99e-2 }}"
          echo "myString ( Mona the Octocat ): Mona the Octocat"
          echo "myStringInBraces ( \${{ 'It''s open source!' }} ): ${{ 'It''s open source!' }}"
          echo "::endgroup::"
          echo
          echo "::group::Operators:"
          echo "- $(reverse \( \)): Logical grouping;"
          echo "- $(reverse [ ]): Index;"
          echo "- $(reverse .): Property de-reference;"
          echo "- $(reverse \!): Not;"
          echo "- $(reverse \<): Less than;"
          echo "- $(reverse \<=): Less than or equal;"
          echo "- $(reverse \>): Greater than;"
          echo "- $(reverse \>=): Greater than or equal;"
          echo "- $(reverse ==): Equal;"
          echo "- $(reverse !=): Not equal;"
          echo "- $(reverse \&\&): And;"
          echo "- $(reverse \|\|): Or;"
          echo "::endgroup::"
          echo
          echo "$(bold red 'Comparisons & Coercion:')"
          echo "- $(reverse string) comparisons are case insensitive;"
          echo "- fromJSON() can be used to convert strings to numbers (see $(bold red Functions));"
          echo "- GitHub performs loose equality comparisons, $(underline coercing types to $(reverse numbers)) $(underline when types do not match). Data types are casted to numbers using the conventions below:"
          echo "  - $(reverse null) is coerced to $(reverse 0);"
          echo "  - $(reverse boolean) $(reverse true) is coerced to $(reverse 1);"
          echo "  - $(reverse boolean) $(reverse false) is coerced to $(reverse 0);"
          echo "  - Non empty $(reverse string) is coerced to the corresponding $(reverse number) when parsed from any legal JSON number format, otherwise returns $(reverse NaN);"
          echo "  - Empty $(reverse string) returns $(reverse 0);"
          echo "  - $(reverse array) returns $(reverse NaN);"
          echo "  - $(reverse Object) returns $(reverse NaN);"
          echo "- When $(underline $(reverse \NaN)) is one of the operands of any relational comparison $(reverse \>), $(reverse \<), $(reverse \>=), $(reverse \<=)), $(underline the result is always $(reverse 'false'));"
          echo "- $(reverse Objects) and $(reverse arrays) are only considered $(italic equal when they are the $(underline same instance))."
          echo
          echo "::group::Loose equality comparisons ($(reverse null)):"
          echo "$(reverse null == null) should be $(reverse true): ${{ null == null && 'true' || 'false'}};"
          echo "$(reverse null == 0) should be $(reverse true): ${{ null == 0 && 'true' || 'false'}};"
          echo "$(reverse null == '0') should be $(reverse true): ${{ null == '0' && 'true' || 'false'}};"
          echo "$(reverse null == false) should be $(reverse true): ${{ null == false && 'true' || 'false'}} (as right-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse null == '') should be $(reverse true): ${{ null == '' && 'true' || 'false'}} (as right-side $(reverse \'\') is casted to $(reverse number));"
          echo
          echo "Given that $(reverse github.event.release.draft) doesnt exist for this event:"
          echo "$(reverse github.event.release.draft == null) should be $(reverse true): ${{ github.event.release.draft == null && 'true' || 'false'}};"
          echo "$(reverse github.event.release.draft == 0) should be $(reverse true): ${{ github.event.release.draft == 0 && 'true' || 'false'}}; (as lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse github.event.release.draft == '0') should be $(reverse true): ${{ github.event.release.draft == '0' && 'true' || 'false'}}; (as lefthand-side $(reverse boolean) is casted to $(reverse number) then $(reverse string));"
          echo "$(reverse github.event.release.draft == false) should be $(reverse true): ${{ github.event.release.draft == false && 'true' || 'false'}} (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse github.event.release.draft == '') should be $(reverse true): ${{ github.event.release.draft == '' && 'true' || 'false'}} (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "::endgroup::"
          echo "::group::Loose equality comparisons ($(reverse boolean true)):"
          echo "$(reverse true == 1) should be $(reverse true): ${{ true == 1 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse true == '1') should be $(reverse true): ${{ true == '1' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse true == 'true') should be $(reverse false): ${{ true == 'true' && 'true' || 'false'}} (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo
          echo "Given that $(reverse github.event.repository.has_issues) exist and is $(reverse true):"
          echo "$(reverse github.event.repository.has_issues == 1) should be $(reverse true): ${{ github.event.repository.has_issues == 1 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse github.event.repository.has_issues == '1') should be $(reverse true): ${{ github.event.repository.has_issues == '1' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse github.event.repository.has_issues == true) should be $(reverse true): ${{ github.event.repository.has_issues == true && 'true' || 'false'}};"
          echo "$(reverse github.event.repository.has_issues == 'true') should be $(reverse false): ${{ github.event.repository.has_issues == 'true' && 'true' || 'false'}} (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "::endgroup::"
          echo "::group::Loose equality comparisons ($(reverse boolean false)):"
          echo "$(reverse false == 0) should be $(reverse true): ${{ false == 0 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse false == '0') should be $(reverse true): ${{ false == '0' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse false == 'false') should be $(reverse false): ${{ false == 'false' && 'true' || 'false'}} (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse false == '') should be $(reverse true): ${{ false == '' && 'true' || 'false'}} (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo
          echo "Given that $(reverse github.event.repository.archived) exist and is $(reverse false):"
          echo "$(reverse github.event.repository.archived == 0) should be $(reverse true): ${{ github.event.repository.archived == 0 && 'true' || 'false'}}; (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "$(reverse github.event.repository.archived == '0') should be $(reverse true): ${{ github.event.repository.archived == '0' && 'true' || 'false'}}; (as both left and righthand-side $(reverse boolean) are casted to $(reverse number));"
          echo "$(reverse github.event.repository.archived == false) should be $(reverse true): ${{ github.event.repository.archived == false && 'true' || 'false'}};"
          echo "$(reverse github.event.repository.archived == 'false') should be $(reverse false): ${{ github.event.repository.archived == 'false' && 'true' || 'false'}}  (as only lefthand-side $(reverse boolean) is casted to $(reverse number));"
          echo "::endgroup::"
          echo
          echo "$(bold red 'Functions & Coercion:')"
          echo "The functions below cast values to $(reverse string) when performing $(underline comparisons):"
          echo "  - $(reverse contains\(search, item\))"
          echo "  - $(reverse startsWith\(searchString, searchValue\))"
          echo "  - $(reverse endsWith\(searchString, searchValue\))"
          echo "  - $(reverse join\(array, optionalSeparator\))"
          echo "Coercion here happens as the following rules:"
          echo "  - $(reverse null) is coerced to $(reverse \'\');"
          echo "  - $(reverse boolean) $(reverse true) is coerced to $(reverse \'true\');"
          echo "  - $(reverse boolean) $(reverse false) is coerced to $(reverse \'false\');"
          echo "  - $(reverse number) is coerced to its decimal format, exponential for large numbers;"
          echo "  - $(reverse array) is $(bold NOT) coerced to $(reverse string);"
          echo "  - $(reverse object) is $(bold NOT) coerced to $(reverse string);"
          echo "The $(reverse fromJSON\(value\)) function can be used to provide a JSON object as an evaluated expression; and also to $(underline convert any data tupe that can be represented in JSON or JavaScript), such as $(reverse strings), $(reverse booeans), $(reverse numbers), $(reverse null) values, and $(reverse objects)."
          echo
          echo "::group::Functions data casting:"
          echo "$(reverse join\(null\)): ${{ join(null) }}"
          echo "$(reverse join\(null\) == \'\') should be $(reverse true): ${{ join(null) == '' && 'true' || 'false' }}"
          echo "$(reverse join\(true\)): ${{ join(true) }}"
          echo "$(reverse contains\(true, \'true\'\)) should be $(reverse true): ${{ contains(true, 'true') && 'true' || 'false' }}"
          echo "$(reverse contains\(true, 1)) should be $(reverse false): ${{ contains(true, 1) && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'true\') while righthand is coerced to $(reverse \'1\')"
          echo "$(reverse contains\(true, '1')) should be $(reverse false): ${{ contains(true, '1') && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'true\') while righthand is coerced to $(reverse \'1\')"
          echo "$(reverse join\(false\)): ${{ join(false) }}"
          echo "$(reverse contains\(false, \'false\'\)) should be $(reverse true): ${{ contains(false, 'false') && 'true' || 'false' }}"
          echo "$(reverse contains\(false, 0)) should be $(reverse false): ${{ contains(false, 0) && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'false\') while righthand is coerced to $(reverse \'0\')"
          echo "$(reverse contains\(false, '0')) should be $(reverse false): ${{ contains(false, '0') && 'true' || 'false' }}, as lefthand is corced to $(reverse string \'false\') while righthand is coerced to $(reverse \'0\')"
          echo "$(reverse join\(9\)): ${{ join(9) }}"
          echo "$(reverse contains\(9, '9'\)) should be $(reverse true): ${{ contains(9, '9') && 'true' || 'false' }}"
          echo "$(reverse join\(1\)): ${{ join(1) }}"
          echo "$(reverse contains\(1, \'true\'\)) should be $(reverse false): ${{ contains(1, 'true') && 'true' || 'false' }}"
          echo "whereas $(reverse join\(1\) == true) should be $(reverse true): ${{ join(1) == true }}, as lefthand is converted to $(reverse \'1\' and then, when comparison operator is used, it is casted to its $(reverse number) at the same time the righthand $(reverse true) is coerced to $(reverse number 1))"
          echo "endgroup"
          echo "::group::Casting with $(reverse fromJSON\(\)):"
          echo "fromJSON(null): ${{ fromJSON('null') }};"
          echo "fromJSON(toJSON(null)): ${{ fromJSON(toJSON(null)) }};"
          echo "$(reverse fromJSON\(\'"string"\'\)): ${{ fromJSON('"string"') }}"
          echo "$(reverse fromJSON\(toJSON\(\'string\'\)\)): ${{ fromJSON(toJSON('string')) }}"
          echo "$(reverse fromJSON\(\'1\'\)): ${{ fromJSON('1') }}"
          echo "$(reverse fromJSON\(toJSON\(1\)\)): ${{ fromJSON(toJSON(1)) }} (toJSON casts to $(reverse string) and $(reverse 1) becomes $(reverse \'1\'), then, since the single quotes belongs to the yaml and whats inside to the evaluated JSON, the $(reverse fromJSON\(\)) parses that yaml $(reverse string) content as $(reverse number))"
          echo
          echo "$(reverse true == fromJSON\('true'\))) should be $(reverse true): ${{ true == fromJSON('true') && 'true' || 'false'}} (as $(reverse fromJSON\(\)) casts $(reverse \'true\') to $(reverse boolean);"
          echo "  same thing can be achieved by wrapping true yaml $(reverse boolean) in $(reverse toJSON\(\)) function: $(reverse true == fromJSON\(toJSON\(true\)\))) should be $(reverse true): ${{ true == fromJSON(toJSON(true)) && 'true' || 'false'}} ;"
          echo "$(reverse 1 == fromJSON\('true'\))) should be $(reverse true): ${{ 1 == fromJSON('true') && 'true' || 'false'}} (as $(reverse fromJSON\(\)) casts $(reverse \'true\') to $(reverse boolean), then to $(reverse number) when evaluating the comparison;"
          echo "  same thing can be achieved by wrapping true yaml $(reverse boolean) in $(reverse toJSON\(\)) function: $(reverse 1 == fromJSON\(toJSON\(true\)\))) should be $(reverse true): ${{ 1 == fromJSON(toJSON(true)) && 'true' || 'false'}} ;"
          echo "  whereas $(reverse 1 == \'true'\) should be $(reverse false): ${{ 1 == 'true' && 'true' || 'false'}} as comparison cant cast $(reverse string \'true\') to a $(reverse number), while lefthand $(reverse boolean) is coerced to $(reverse 1) upon casting"
          echo "Since functions casts to string, a $(reverse join) could be used to wrap everything so that comparison always evaluates strings:"
          echo "  $(reverse join\(true\) == join\(fromJSON\('true'\)))\) should be $(reverse true): ${{ join(true) == join(fromJSON('true')) && 'true' || 'false'}} as at the end all left is parsed as $(reverse string \'true\'), while right is parsed as $(reverse boolean), then $(reverse string), and only then goes to comparison operator that evaluates string vs string as lefthand $(reverse string \'true\') cant be coerced to decimal $(reverse number)"
          echo "  while $(reverse join\(true\) == fromJSON\('true'\))) should be $(reverse false): ${{ join(true) == fromJSON('true') && 'true' || 'false'}} as lefthand is casted to string, righthand is casted to $(reverse boolean), then comparison evaluates them as $(reverse string \'true\') vs $(reverse number 1);"
          echo "endgroup"
          echo "What we can get from all of this is that all possible $(reverse true booleans) ($(reverse 1), $(reverse \'1\'), $(reverse true), $(reverse \'true\')) can be safely compared to either $(reverse number 1) or $(reverse boolean true) if first casted to $(reverse string) with $(reverse join\(\)) then converted to $(reverse boolean) or $(reverse number) with $(reverse fromJSON\(\)), given that they will be normalized to $(reverse number 1) if the either operand is at the end a $(reverse number 1 or 0) and both wont be coerced to $(reverse number 1) if both are $(reverse boolean). Only trick here is that empty string is falsy and comparison coerces it to $(reverse 0)"

      - name: Summary & Conclusions
        id: summary
        run: |
          echo '::Data types: yaml literals that exist in GitHub Actions Workflows:'
          echo '- boolean - `ï¼„{{ true }}`: ${{ true }}; `ï¼„{{ false }}`: ${{ false }};'
          echo '- null - `ï¼„{{ null }}`: ${{ null }};'
          echo '- number - integer `ï¼„{{ 711 }}`: ${{ 711 }}; float `ï¼„{{ -9.2 }}`: ${{ -9.2 }}; hex `ï¼„{{ 0xff }}`: ${{ 0xff }}; exponential `ï¼„{{ -2.99e-2 }}`: ${{ -2.99e-2 }};'
          echo '- string - unbraced `Mona the Octocat`: Mona the Octocat; braced `ï¼„{{ 'It''s open source!' }}`: ${{ 'It's open source!' }};' 
          echo
          echo '::group::Check if a value is of type `boolean` and is explicitly set to `true`, otherwise return false: `contains(inputs.<input-name>, true)`'
          echo '::endgroup::'
          echo '::group::Check if a value is of type `boolean` and is explicitly set to `false`, otherwise return true: `!contains(inputs.<input-name>, false)`'
          echo '::endgroup::'
          echo '::group::Check if a value of any type is `truthy`: `inputs.<input-name>`'
          echo '::endgroup::'
          echo '::group::Check if a value of any type is `truthy` and not empty: `inputs.<input-name>`'
          echo '::endgroup::'
          echo
          echo "\`contains(true, true)\`: ${{ contains(true, true) && 'true' || 'false' }}"
          echo "\`contains(false, true)\`: ${{ contains(false, true) && 'true' || 'false' }}"
          echo "\`contains(true, 1)\`: ${{ contains(true, 1) && 'true' || 'false' }}"
          echo "\`contains(false, 1)\`: ${{ contains(false, 1) && 'true' || 'false' }}"
          echo "\`contains('true', true)\`: ${{ contains('true', true) && 'true' || 'false' }}"
          echo "\`contains('false', true)\`: ${{ contains('false', true) && 'true' || 'false' }}"
          echo "\`contains('true', 1)\`: ${{ contains('true', 1) && 'true' || 'false' }}"
          echo "\`contains('false', 1)\`: ${{ contains('false', 1) && 'true' || 'false' }}"
          echo "\`contains('something', true)\`: ${{ contains('something', true) && 'true' || 'false' }}"
          echo "\`contains(true, 'something')\`: ${{ contains(true, 'something') && 'true' || 'false' }}"
          echo "\`contains('', true)\`: ${{ contains('', true) && 'true' || 'false' }}"
          echo "\`contains(true, '')\`: ${{ contains(true, '') && 'true' || 'false' }}"
          echo "\`contains('[true, false]', true)\`: ${{ contains('[true, false]', true) && 'true' || 'false' }}"
          echo "\`contains('[true, false]', false)\`: ${{ contains('[true, false]', false) && 'true' || 'false' }}"
          echo "\`contains('["true", "false"]', true)\`: ${{ contains('["true", "false"]', true) && 'true' || 'false' }}"
          echo "\`contains('["something", "false"]', true)\`: ${{ contains('["true", "false"]', true) && 'true' || 'false' }}"
          echo "\`contains('["true", "false"]', false)\`: ${{ contains('["true", "false"]', false) && 'true' || 'false' }}"
          echo "\`contains('["true", ""]', false)\`: ${{ contains('["true", "false"]', false) && 'true' || 'false' }}"
          echo "\`contains('["true", "false"]', '')\`: ${{ contains('["true", "false"]', '') && 'true' || 'false' }}"
          echo "\`contains('["true", "false"]', 'something')\`: ${{ contains('[true, false]', 'something') && 'true' || 'false' }}"

      - name: Skippable
        id: skippable
        if: inputs.string-input != 'skip'
        run: echo "This step was not skipped."

      - name: Sleep
        id: sleep
        run: sleep 5

      - name: Run test
        id: test
        continue-on-error: ${{ contains(inputs.continue-on-error, 'true') }}
        run: |
          echo test
          echo "---      ---      ---"
          ${{ contains(inputs.break, 'true') && true || false }} && exit 1 || true
          echo
